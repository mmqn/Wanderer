(this.webpackJsonpwanderer=this.webpackJsonpwanderer||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),i=a(6),o=a.n(i),s=a(9),u=a(1),m=(a(16),a(3)),p=function(e){var t=e.uniqueValues,a=e.handleFiltering,c=Object(n.useState)(""),l=Object(u.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(!1),g=Object(u.a)(f,2),b=g[0],v=g[1],y=Object(n.useMemo)((function(){var e=[];return Object.keys(t).forEach((function(a){t[a].forEach((function(t){var n="".concat(a,"|").concat(t);e.push(n)}))})),e}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-bar"},r.a.createElement("input",{type:"text",placeholder:"Search ".concat(t.Address.length," places..."),value:i,onChange:function(e){var t=e.target.value;o(t),function(e){if(e){var t=new RegExp(e,"gi"),a=y.filter((function(e){return t.test(e)})).map((function(e){var t=e.split("|"),a=Object(u.a)(t,2);return{id:e,targetFilterType:a[0],targetFilterValue:a[1]}}));d(a)}else d([])}(t)},onFocus:function(){v(!0)}}),i.length>0&&r.a.createElement("div",{className:"search-results"},p.length>0?p.map((function(e,t){return r.a.createElement("div",{key:"".concat(t,"-").concat(e.targetFilterType,"-").concat(e.targetFilterValue),className:"filter-typevalue",style:{margin:"4px"},role:"button",onClick:function(){o(""),v(!1),a(e)}},r.a.createElement("div",{className:"filter-type"},e.targetFilterType),r.a.createElement("div",{className:"filter-value"},e.targetFilterValue))})):r.a.createElement("span",{style:{color:"#ffffff"}},"No results found \ud83c\udf27"))),b&&r.a.createElement("div",{className:"background-cover",onClick:function(){o(""),v(!1)}}))},d=r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 512 512",width:"18px"},r.a.createElement("path",{style:{fill:"#e4c200"},d:"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z"})),f=r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 448 512",width:"18px"},r.a.createElement("path",{style:{fill:"#e4c200"},d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"})),g=r.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 512 512",width:"18px"},r.a.createElement("path",{style:{fill:"#e4c200"},d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"})),b=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],l=a[1],i=e.placeDetails,o=e.areAllCardsExpanded,s=e.isMobile,m=e.isMinimal,p=e.mapboxKey,f=i.id,g=i.Name,b=i.Description,v=i.Categories,y=i.Address,E=i.City,h=i.Region,x=i.Coordinates,j=i.Notes,O=s?window.innerWidth-80:400,k="https://api.mapbox.com/styles/v1/mapbox/dark-v10/static/"+x.lng+","+x.lat+",9.9,0,0/"+O+"x120@2x?access_token="+p,w="https://www.google.com/maps/dir/?api=1&origin=&destination="+x.lat+","+x.lng+"&travelmode=driving",C=function(t){var a=t.e,n=t.payload;a.stopPropagation(),e.handleFiltering(n)};return r.a.createElement("div",{className:"card has-hidden-child",style:{cursor:m?"auto":"pointer"},onClick:function(){return l((function(e){return!e}))}},r.a.createElement("h2",{className:"use-ellipsis"},g),r.a.createElement("h6",{className:"use-ellipsis"},b),r.a.createElement("div",{className:"categories"},v.map((function(e){return r.a.createElement("span",{key:"".concat(f," - ").concat(e),onClick:function(t){return C({e:t,payload:{id:'"Categories"|'.concat(e),targetFilterType:"Categories",targetFilterValue:e}})}},e)}))),(c||o)&&r.a.createElement("div",{className:"card-details"},r.a.createElement("p",{className:"notes",style:{maxWidth:m?"100%":"220px"}},j),!m&&r.a.createElement("div",{className:"static-map",style:{width:O,height:"120px"}},r.a.createElement("img",{src:k,alt:"".concat(g," Map Preview"),width:O,height:"120"}),s?r.a.createElement("span",{style:{position:"absolute",top:"42px",left:O-10-O/2}},d):r.a.createElement("div",{className:"hidden-child"},r.a.createElement("div",{className:"cover"}),r.a.createElement("div",{className:"address"},r.a.createElement("p",null,y),r.a.createElement("p",{className:"actionable-text",onClick:function(e){return C({e:e,payload:{id:'"City"|'.concat(E),targetFilterType:"City",targetFilterValue:E}})}},E),r.a.createElement("p",{className:"actionable-text",onClick:function(e){return C({e:e,payload:{id:'"Region"|'.concat(h),targetFilterType:"Region",targetFilterValue:h}})}},h)),r.a.createElement("div",{className:"get-directions"},r.a.createElement("span",{style:{position:"absolute",top:"3px",left:"-9px"}},d),r.a.createElement("span",null),r.a.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer"},"directions")))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"address",style:{position:"relative",top:"0px",left:"0px",marginTop:"10px"}},r.a.createElement("p",null,y),r.a.createElement("p",{className:"actionable-text",onClick:function(e){C({e:e,payload:{id:'"City"|'.concat(E),targetFilterType:"City",targetFilterValue:E}})}},E),r.a.createElement("p",{className:"actionable-text",onClick:function(e){C({e:e,payload:{id:'"Region"|'.concat(h),targetFilterType:"Region",targetFilterValue:h}})}},h)),r.a.createElement("a",{href:w,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},style:{textDecoration:"underline"}},"Get Directions"))))};b.defaultProps={areAllCardsExpanded:!1,isMobile:!1,isMinimal:!1,mapboxKey:"",handleFiltering:function(){}};var v=b,y=function(e,t){return e[t]?"object"===typeof e[t]&&e[t].length?"array":"object"===typeof e[t]?"object":"primitive":"key does not exist"},E=function(e,t){if("array"===y(e,t.targetFilterType)){if(e[t.targetFilterType].includes(t.targetFilterValue))return!0}else if(e[t.targetFilterType]===t.targetFilterValue)return!0;return!1},h=function(e){var t=e.appliedFilters,a=e.handleRemoveFilter,c=e.handleToggleCardsDensity,l=e.handleToggleStackedView,i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],p=t.length>0;Object(n.useEffect)((function(){m(!1)}),[p]);return r.a.createElement("div",{style:s&&p?{height:"110px"}:{},className:"mobile-command-bar",onClick:function(){return m(p&&!s)}},r.a.createElement("div",null,p&&r.a.createElement("button",{type:"button",style:{float:"left",paddingTop:"13px",paddingLeft:"14px"}},r.a.createElement("span",{style:{color:"#e4c200"}},t.length),r.a.createElement("span",{key:"flash-".concat(t.length),className:"flash"},t.length>1?" Active Filters":" Active Filter")),r.a.createElement("span",{style:{float:"right",paddingTop:"2px",paddingRight:"10px"}},r.a.createElement("button",{type:"button",style:{padding:"8px"},onClick:c},f),r.a.createElement("button",{type:"button",style:{padding:"8px"},onClick:l},g))),p&&r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",overflow:"scroll",margin:"50px 15px 0px"}},t.map((function(e){return r.a.createElement("div",{key:"".concat(e.targetFilterType,"-").concat(e.targetFilterValue),style:{},className:"filter-typevalue delete",role:"button",onClick:function(t){t.stopPropagation(),a(e)}},r.a.createElement("div",{className:"filter-type"},e.targetFilterType),r.a.createElement("div",{className:"filter-value"},e.targetFilterValue))}))))},x=function(e){var t=e.places,a=e.isMobile,c=e.mapboxKey,l=Object(n.useState)([]),i=Object(u.a)(l,2),o=i[0],s=i[1],d=Object(n.useState)([]),f=Object(u.a)(d,2),g=f[0],b=f[1],y=Object(n.useState)(!1),x=Object(u.a)(y,2),j=x[0],O=x[1],k=Object(n.useState)(!1),w=Object(u.a)(k,2),C=w[0],F=w[1],N=Object(n.useState)(""),S=Object(u.a)(N,2),T=S[0],M=S[1];Object(n.useEffect)((function(){s(t)}),[t]);var V=Object(n.useMemo)((function(){return{Name:t.map((function(e){return e.Name})),Categories:Object(m.a)(new Set(t.map((function(e){return e.Categories})).flat())),Address:t.map((function(e){return e.Address})),City:Object(m.a)(new Set(t.map((function(e){return e.City})).flat())),Region:Object(m.a)(new Set(t.map((function(e){return e.Region})).flat()))}}),[t]),z=function(e){if(1===e.length){var a=t.filter((function(t){return E(t,e[0])}));s(a)}else if(e.length>1){var n=t.filter((function(t){return e.reduce((function(e,a){if("object"===typeof e&&"object"===typeof a){var n=E(t,e),r=E(t,a);return n&&r?2:n||n?1:0}return"number"===typeof e&&"object"===typeof a?E(t,a)?e+1:e:0}))===e.length}));s(n)}else s(t);b(e)},A=function(e){var t=void 0===g.find((function(t){return t.id===e.id}))?[].concat(Object(m.a)(g),[e]):g;z(t)},L=function(e){var t=g.filter((function(t){return t.id!==e.id}));z(t)},R=function(e){e.stopPropagation(),O((function(e){return!e}))},D=function(e){e.stopPropagation(),F((function(e){return!e}))},K=C?r.a.createElement("div",{className:"cards-container"},V.Categories.map((function(e){var t=o.filter((function(t){return t.Categories.includes(e)})),l=function(){M(e===T?"":e)};return e===T?r.a.createElement(n.Fragment,{key:e},r.a.createElement("div",{className:"card card-stacked",role:"button",onClick:l},r.a.createElement("h1",null,e)),t.map((function(e){return r.a.createElement(v,{key:e.id,placeDetails:e,areAllCardsExpanded:j,isMobile:a,mapboxKey:c,handleFiltering:A})}))):t.length>0?r.a.createElement("div",{key:e,className:"card card-stacked",role:"button",onClick:l},r.a.createElement("h1",null,e)):null}))):r.a.createElement("div",{className:"cards-container"},o.map((function(e){return r.a.createElement(v,{key:e.id,placeDetails:e,areAllCardsExpanded:j,isMobile:a,mapboxKey:c,handleFiltering:A})})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{uniqueValues:V,handleFiltering:A}),K,a?r.a.createElement(h,{appliedFilters:g,handleRemoveFilter:L,handleToggleCardsDensity:R,handleToggleStackedView:D}):r.a.createElement(r.a.Fragment,null,g.length>0&&r.a.createElement("div",{className:"applied-filters-menu",style:{maxHeight:"80vh",overflowY:"auto"}},r.a.createElement("h2",{key:"flash-".concat(g.length),className:"flash",style:{paddingLeft:"2px"}},"Applied Filters"),g.map((function(e){return r.a.createElement("div",{key:"".concat(e.targetFilterType,"-").concat(e.targetFilterValue),className:"filter-typevalue remove-filter",role:"button",onClick:function(){return L(e)}},r.a.createElement("div",{className:"filter-type"},e.targetFilterType),r.a.createElement("div",{className:"filter-value"},e.targetFilterValue))}))),r.a.createElement("button",{type:"button",style:{position:"fixed",bottom:"50px",right:"20px"},onClick:R},j?"Condense All Cards":"Expand All Cards"),r.a.createElement("button",{type:"button",style:{position:"fixed",bottom:"15px",right:"20px"},onClick:D},"Switch to ",C?"Singles":"Stacks"," View")))};x.defaultProps={isMobile:!1,mapboxKey:""};var j=x,O=a(5),k=a.n(O),w=(a(17),{center:[-118.243683,34.052235],zoom:9}),C=function(e){var t=e.places,a=e.isMobile,c=e.mapboxKey,l=Object(n.useState)(null),i=Object(u.a)(l,2),o=i[0],s=i[1],m=Object(n.useState)([]),p=Object(u.a)(m,2),d=p[0],f=p[1],g=Object(n.useState)(null),b=Object(u.a)(g,2),y=b[0],E=b[1],h=Object(n.useRef)(null);Object(n.useEffect)((function(){k.a.accessToken=c;var e=new k.a.Map({container:h.current,style:"mapbox://styles/mapbox/dark-v10",center:w.center,zoom:w.zoom});s(e)}),[c,h]),Object(n.useEffect)((function(){var e=[];t.forEach((function(){return e.push(Object(n.createRef)())})),f(e)}),[t]),Object(n.useEffect)((function(){d.forEach((function(e,a){var n=t[a].Coordinates,r=[n.lng,n.lat];new k.a.Marker(e.current).setLngLat(r).addTo(o)}))}),[t,d,o]);var x=function(e){return E(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100vw",height:"100vh",margin:"auto"},ref:h}),r.a.createElement("div",{style:{display:"none"}},t.map((function(e,t){return r.a.createElement("div",{key:e.id,ref:d[t],className:"map-marker",onClick:function(){return x(e)}})}))),y&&r.a.createElement("div",{style:{zIndex:"2",position:"fixed",bottom:"30px",width:a?"90vw":"auto"}},r.a.createElement(v,{isMinimal:!0,placeDetails:y}),r.a.createElement("button",{type:"button",className:"card-close-button",onClick:function(){return x(null)}},a?"X":"Close")))},F=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){return c(!0)}),3e3);return function(){return clearTimeout(e)}}),[]),a?r.a.createElement("div",{style:{margin:"auto",padding:"200px 20px 0px",textAlign:"center"}},r.a.createElement("h1",null,"Oh boy, looks like you broke something \ud83c\udf27"),r.a.createElement("p",{style:{color:"#ffffff",lineHeight:"32px"}},"Just kidding, it's probably me. I would very much appreciate it if you sent an"," ",r.a.createElement("a",{href:"mailto:mmqn.michael@gmail.com",style:{color:"#e4c200"}},"email")," ","to notify me about this!")):r.a.createElement("div",{style:{position:"fixed",top:"50vh",left:"calc(50vw - 94px)"}},r.a.createElement("h1",null,"Loading \ud83c\udf26"))},N="pk.eyJ1IjoibW1xbiIsImEiOiJjazAxNDdtMGUwN3RxM2JwNGxzYWdqeDltIn0.Ctg235d9st1jNa25YSaFlg",S=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(u.a)(l,2),m=i[0],p=i[1],d=Object(n.useState)(!0),f=Object(u.a)(d,2),g=f[0],b=f[1],v=Object(n.useState)(!1),y=Object(u.a)(v,2),E=y[0],h=y[1],x=function(){var e=Object(n.useState)(window.innerWidth),t=Object(u.a)(e,2),a=t[0],r=t[1],c=function(e){return r(e.target.innerWidth)};return Object(n.useEffect)((function(){window.addEventListener("resize",c)}),[]),a}()<685,O=function(){var e=Object(s.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://wanderer-mmqn.firebaseio.com/places.json");case 2:return t=e.sent,a=t.status,e.next=6,t.json();case 6:n=e.sent,200===a&&n?(c(!0),p(n)):console.warn({status:a,response:t});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]),Object(n.useEffect)((function(){var e=function(){window.pageYOffset>=40?h(!0):window.pageYOffset<40&&h(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("sroll",e)}}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{title:"Click to switch to ".concat(g?"list":"map"," view"),className:"header ".concat(E?"minimize-header":"maximize-header"),onClick:function(){return b((function(e){return!e}))}},"Wanderer"),!0===a&&m.length>0?g?r.a.createElement(C,{places:m,isMobile:x,mapboxKey:N}):r.a.createElement(j,{places:m,isMobile:x,mapboxKey:N}):r.a.createElement(F,null))};l.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.7e059921.chunk.js.map